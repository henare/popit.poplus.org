---
layout: inner-page
title: Search
---

<h1>Search</h1>

<p>PopIt provides a full-featured search API that allows you to find the documents you're looking for within a collection. It supports wildcard queries, date ranges and more.
</p>
<h2>Search collections</h2>
<p>Find records via various criteria.

</p>
<pre><code><span class="title">GET</span> /api/v0.<span class="number">1</span>/search/:collection</code></pre>
<h3>Parameters</h3>
<ul>
<li><code>q</code> - Your search query, you can also specify which fields to search - see below.</li>
<li><code>page</code> - Access further pages by specifying this parameter. (Max 1000)</li>
<li><code>per_page</code> - Number of results to return per-page. (Max 100)</li>
</ul>
<p>The <code>q</code> parameter can also include any valid popolo field for the collection being searched as a prefix.

</p>
<h3>Examples</h3>
<h4>Specifying fields</h4>
<p>If you wanted to search for people named <code>John</code> then your query might look like:

</p>
<pre><code>/api/v<span class="number">0</span>.<span class="number">1</span>/search/persons<span class="number">?q</span>=<span class="symbol">name:</span><span class="constant">John</span></code></pre>
<p>In this url the <code>q</code> parameter is requesting records where the <code>name</code> field contains <code>John</code>.

</p>
<h4>Wildcards</h4>
<p>Wildcard searches can be run on individual terms, using <code>?</code> to replace a single character, and <code>*</code> to replace zero or more characters:

</p>
<pre><code>/api/v<span class="number">0</span>.<span class="number">1</span>/search/persons<span class="number">?q</span>=qu<span class="number">?c</span>k+brown*jumps</code></pre>
<h4>Exact match</h4>
<p>If you want an exact match then you can surround your query with quotation marks:

</p>
<pre><code>/api/v<span class="number">0</span>.<span class="number">1</span>/search/persons<span class="number">?q</span>=<span class="string">"John+Smith"</span></code></pre>
<p>This will only match the exact string specified.

</p>
<h4>Ranges</h4>
<p>You can match date ranges using the API, e.g. to find all memberships which started in 2013:

</p>
<pre><code>/api/<span class="transposed_variable">v0.</span><span class="number">1</span>/search/memberships?q=start_date:<span class="matrix">[<span class="number">2013</span>/<span class="number">01</span>/<span class="number">01</span>+TO+<span class="number">2013</span>/<span class="number">12</span>/<span class="number">31</span>]</span></code></pre>
<h3>Further reading</h3>
<p>The underlying search engine is elasticsearch. For more details about the kinds of query you can perform, check out the <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">query string syntax guide</a>.
</p>
